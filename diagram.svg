<svg height="640" viewBox="249 70 770 640" width="770" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="a" markerHeight="8" markerUnits="strokeWidth" markerWidth="18" orient="auto" overflow="visible" stroke-miterlimit="10" viewBox="-1 -4 18 8"><path d="m8-3v3l-8-3v6l8-3v3l8-3z" stroke="#000"/></marker><marker id="b" markerHeight="8" markerUnits="strokeWidth" markerWidth="18" orient="auto" overflow="visible" stroke-miterlimit="10" viewBox="-17 -4 18 8"><path d="m-8 3v-3l8 3v-6l-8 3v-3l-8 3z" stroke="#000"/></marker><marker id="c" markerHeight="8" markerUnits="strokeWidth" markerWidth="10" orient="auto" overflow="visible" stroke-miterlimit="10" viewBox="-9 -4 10 8"><path d="m-8 0 8 3v-6z" stroke="#000"/></marker><font-face ascent="952.1484" cap-height="704.58984" descent="-241.21094" font-family="SF Mono" font-size="16" font-weight="400" panose-1="2 11 0 9 0 0 2 0 0 0" underline-position="-73.24219" underline-thickness="48.828125" x-height="529.78516"><font-face-src><font-face-name name="SFMono-Regular"/></font-face-src></font-face><font-face ascent="951.9958" cap-height="714" descent="-212.99744" font-family="Helvetica Neue" font-size="12" font-weight="400" panose-1="2 0 5 3 0 0 0 2 0 4" underline-position="-100" underline-thickness="50" x-height="517"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face><font-face ascent="952.1484" cap-height="704.58984" descent="-241.21094" font-family="SF Mono" font-size="12" font-weight="400" panose-1="2 11 0 9 0 0 2 0 0 0" underline-position="-73.24219" underline-thickness="48.828125" x-height="529.78516"><font-face-src><font-face-name name="SFMono-Regular"/></font-face-src></font-face><font-face ascent="951.9958" cap-height="714" descent="-212.99744" font-family="Helvetica Neue" font-size="10" font-weight="400" panose-1="2 0 5 3 0 0 0 2 0 4" underline-position="-100" underline-thickness="50" x-height="517"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face><font-face ascent="952.1484" cap-height="704.58984" descent="-241.21094" font-family="SF Mono" font-size="10" font-weight="400" panose-1="2 11 0 9 0 0 2 0 0 0" underline-position="-73.24219" underline-thickness="48.828125" x-height="529.78516"><font-face-src><font-face-name name="SFMono-Regular"/></font-face-src></font-face><font-face ascent="951.9958" cap-height="714" descent="-212.99744" font-family="Helvetica Neue" font-size="8" font-weight="400" panose-1="2 0 5 3 0 0 0 2 0 4" underline-position="-100" underline-thickness="50" x-height="517"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face></defs><g fill="none"><g stroke="#000" stroke-linecap="round" stroke-linejoin="round"><path d="m381.1 185h-12.1v115h220v205h12.1" marker-end="url(#a)" marker-start="url(#b)"/><path d="m381.1 185h-12.1v115h220v275h12.1" marker-end="url(#a)" marker-start="url(#b)"/><path d="m381.1 185h-12.1v115h220v325h12.1" marker-end="url(#a)" marker-start="url(#b)"/><path d="m869.1006 239.9-.0833 219.6" marker-start="url(#c)"/><path d="m689.1006 239.9-.0833 219.6" marker-start="url(#c)"/></g><path d="m259 320h310v350h-310z" fill="#fff"/><path d="m259 320h310v350h-310z" stroke="#000" stroke-dasharray="1 3" stroke-linecap="round" stroke-linejoin="round"/><path d="m619 320h140v70h-140z" fill="#fff"/><path d="m619 320h140v70h-140z" stroke="#000" stroke-dasharray="1 3" stroke-linecap="round" stroke-linejoin="round"/><path d="m799 320h140v40h-140z" fill="#fff"/><path d="m799 320h140v40h-140z" stroke="#000" stroke-dasharray="1 3" stroke-linecap="round" stroke-linejoin="round"/><path d="m799 600h210v100h-210z" fill="#fff"/><path d="m799 600h210v100h-210z" stroke="#000" stroke-dasharray="1 3" stroke-linecap="round" stroke-linejoin="round"/><path d="m489 129.6v-29.6h290v39.5" marker-start="url(#c)" stroke="#000" stroke-linecap="round" stroke-linejoin="round"/><path d="m619 140h320v90h-320z" fill="#ccc"/><path d="m619 140h320v90h-320z" stroke="#000" stroke-linecap="round" stroke-linejoin="round"/><text fill="#000" transform="translate(627 175.5)"><tspan fill="#000" font-family="SF Mono" font-size="16" font-weight="400" x="102.54688" y="15">background</tspan></text><path d="m619 460h140v90h-140z" fill="#ccc"/><path d="m619 460h140v90h-140z" stroke="#000" stroke-linecap="round" stroke-linejoin="round"/><text fill="#000" transform="translate(627 495.5)"><tspan fill="#000" font-family="SF Mono" font-size="16" font-weight="400" x="42.21875" y="15">shim</tspan></text><path d="m399 140h180v90h-180z" fill="#ccc"/><path d="m399 140h180v90h-180z" stroke="#000" stroke-linecap="round" stroke-linejoin="round"/><text fill="#000" transform="translate(407 175.5)"><tspan fill="#000" font-family="SF Mono" font-size="16" font-weight="400" x="52.328125" y="15">bridge</tspan></text><path d="m799 460h140v90h-140z" fill="#ccc"/><path d="m799 460h140v90h-140z" stroke="#000" stroke-linecap="round" stroke-linejoin="round"/><text fill="#000" transform="translate(807 495.5)"><tspan fill="#000" font-family="SF Mono" font-size="16" font-weight="400" x="37.273438" y="15">popup</tspan></text><path d="m529 80h210v40h-210z" fill="#fff"/><path d="m529 80h210v40h-210z" stroke="#000" stroke-linecap="round" stroke-linejoin="round"/><text fill="#000" transform="translate(534 85.832)"><tspan fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="400" x="39.43" y="11">runtime.connectNative</tspan> <tspan fill="#000" font-family="SF Mono" font-size="12" font-weight="400" x="3.566406" y="25.336">{ name: “fx_cast_bridge” }</tspan></text><path d="m619 280h140v40h-140z" fill="#fff"/><path d="m619 280h140v40h-140z" stroke="#000" stroke-linecap="round" stroke-linejoin="round"/><text fill="#000" transform="translate(624 285.832)"><tspan fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="400" x="21.428" y="11">runtime.connect</tspan> <tspan fill="#000" font-family="SF Mono" font-size="12" font-weight="400" x="5.65625" y="25.336">{ name: “shim” }</tspan></text><path d="m799 280h140v40h-140z" fill="#fff"/><path d="m799 280h140v40h-140z" stroke="#000" stroke-linecap="round" stroke-linejoin="round"/><text fill="#000" transform="translate(804 285.832)"><tspan fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="400" x="21.428" y="11">runtime.connect</tspan> <tspan fill="#000" font-family="SF Mono" font-size="12" font-weight="400" x="1.947266" y="25.336">{ name: “popup” }</tspan></text><path d="m768.9 505h10.1v75h180v-75h-20" marker-start="url(#c)" stroke="#000" stroke-linecap="round" stroke-linejoin="round"/><path d="m799 560h140v40h-140z" fill="#fff"/><path d="m799 560h140v40h-140z" stroke="#000" stroke-linecap="round" stroke-linejoin="round"/><text fill="#000" transform="translate(804 565.832)"><tspan fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="400" x="29.99" y="11">tabs.connect</tspan> <tspan fill="#000" font-family="SF Mono" font-size="12" font-weight="400" x="1.947266" y="25.336">{ name: “popup” }</tspan></text><text fill="#666" transform="translate(804 656.86)"><tspan fill="#666" font-family="Helvetica Neue" font-size="10" font-weight="400" x="0" y="10">INCOMING</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="22.28">8) popup:/populateReceiverList</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="34.28">10) popup:/close</tspan></text><text fill="#666" transform="translate(804 606.86)"><tspan fill="#666" font-family="Helvetica Neue" font-size="10" font-weight="400" x="0" y="10">OUTGOING</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="22.28">9) shim:/selectReceiver</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="34.28">7) shim:/popupReady</tspan></text><text fill="#666" transform="translate(624 355)"><tspan fill="#666" font-family="Helvetica Neue" font-size="10" font-weight="400" x="0" y="10">INCOMING</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="22.28">1) shim:/initialized</tspan></text><text fill="#666" transform="translate(624 325)"><tspan fill="#666" font-family="Helvetica Neue" font-size="10" font-weight="400" x="0" y="10">OUTGOING</tspan> <tspan fill="#283450" y="10"/> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="22.28">5) main:/openPopup</tspan></text><text fill="#666" transform="translate(804 325)"><tspan fill="#666" font-family="Helvetica Neue" font-size="10" font-weight="400" x="0" y="10">INCOMING</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="22.28">6) popup:/assignShim</tspan></text><path d="m619 550h140v50h-140z" fill="#ebebeb"/><path d="m619 550h140v50h-140z" stroke="#000" stroke-linecap="round" stroke-linejoin="round"/><text fill="#000" transform="translate(627 558.5)"><tspan fill="#000" font-family="SF Mono" font-size="16" font-weight="400" x="27.382812" y="15">Session</tspan> <tspan fill="#000" font-family="SF Mono" font-size="12" font-weight="400" x="39.746094" y="30">(shim)</tspan></text><path d="m619 600h140v50h-140z" fill="#ebebeb"/><path d="m619 600h140v50h-140z" stroke="#000" stroke-linecap="round" stroke-linejoin="round"/><text fill="#000" transform="translate(627 608.5)"><tspan fill="#000" font-family="SF Mono" font-size="16" font-weight="400" x="37.273438" y="15">Media</tspan> <tspan fill="#000" font-family="SF Mono" font-size="12" font-weight="400" x="39.746094" y="30">(shim)</tspan></text><text fill="#666" transform="translate(264 521.86)"><tspan fill="#666" font-family="Helvetica Neue" font-size="10" font-weight="400" x="0" y="10">SESSION </tspan><tspan fill="#666" font-family="Helvetica Neue" font-size="8" font-weight="400" y="10">(SHIM)</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="22.28">13) shim:/session/connected</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="34.28">14) shim:/session/updateStatus</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="46.28">22) shim:/session/impl_addMessageListener</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="58.28">23) shim:/session/impl_sendMessage</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="70.28">24) shim:/session/impl_setReceiverMuted</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="82.28">25) shim:/session/impl_setReceiverVolumeLevel</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="94.28">26) shim:/session/impl_stop</tspan></text><text fill="#666" transform="translate(264 323.86)"><tspan fill="#666" font-family="Helvetica Neue" font-size="10" font-weight="400" x="0" y="10">BRIDGE</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="22.28">2) bridge:/discover</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="34.28">11) bridge:/session/initialize</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="46.28">12) bridge:/session/close</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="58.28">15) bridge:/session/impl_addMessageListener</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="70.28">16) bridge:/session/impl_sendMessage</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="82.28">17) bridge:/session/impl_setReceiverMuted</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="94.28">18) bridge:/session/impl_setReceiverVolumeLevel</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="106.28">19) bridge:/session/impl_stop</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="118.28">20) bridge:/media/initialize</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="130.28">21) bridge:/media/sendMediaMessage</tspan></text><path d="m399 280h170v40h-170z" fill="#fff"/><path d="m399 280h170v40h-170z" stroke="#000" stroke-linecap="round" stroke-linejoin="round"/><text fill="#000" transform="translate(404 292.832)"><tspan fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="400" x="30.554" y="11">Proxied Messages</tspan></text><text fill="#666" transform="translate(264 626.86)"><tspan fill="#666" font-family="Helvetica Neue" font-size="10" font-weight="400" x="0" y="10">MEDIA </tspan><tspan fill="#666" font-family="Helvetica Neue" font-size="8" font-weight="400" y="10">(SHIM)</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="22.28">27) shim:/media/sendMediaMessageResponse</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="34.28">28) shim:/media/update</tspan></text><text fill="#666" transform="translate(264 476.86)"><tspan fill="#666" font-family="Helvetica Neue" font-size="10" font-weight="400" x="0" y="10">SHIM</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="22.28">3) shim:/serviceUp</tspan> <tspan fill="#000" font-family="SF Mono" font-size="10" font-weight="400" x="0" y="34.28">4) shim:/serviceDown</tspan></text></g></svg>